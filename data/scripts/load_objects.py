''' SWGANH 2012 '''
''' This script is used to generate a list of all the game objects'''
''' Ensure this is run under the expected working directory '''

import os, io, glob
curr_dir = os.path.basename(os.getcwd())
subdirs = []
files = []

for dirname, dirnames, filenames in os.walk('./templates'):
	for subdirname in dirnames:
		files += glob.glob(subdirname + '/*.py')
	files += filenames
template_list = open('object_templates.py', 'w')
template_list.write('### This is autogenerated... ### \n')
template_list.write('templates = {} \n')
for file in files:
	file = file.replace(os.sep, '.').replace('.py', '')	
	template_list.write('import ' + file + ' as module;')
	template_list.write('module.loadTemplates(templates) \n')
	
template_list.close()